(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{174:function(e,t,a){},179:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),s=a(8),o=a(39),i=a.n(o),u="https://cors-anywhere.herokuapp.com/http://ub-gei-es-ubeats-clone.herokuapp.com/api/",m=function(e,t,a,n){return i.a.post(u+"register",{name:e,email:t,password:a,type:n})},E=function(e,t){return i.a.post(u+"login",{email:e,password:t},{"Access-Control-Allow-Origin":u}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},d=function(e,t,a,n){return function(r){return m(e,t,a,n).then((function(e){return r({type:"REGISTER_SUCCESS"}),r({type:"SET_MESSAGE",payload:e.data.message}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return r({type:"REGISTER_FAIL"}),r({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}},g=a(64),b=Object(g.a)(),p=(a(20),a(65)),v=a.n(p);var f=function(){return r.a.createElement("div",null,r.a.createElement("h3",{className:"justi"},"Page under construction!"),r.a.createElement("h4",null,"Sorry for the inconvinience!"),r.a.createElement("img",{src:v.a}))},h=a(7),O=a(5),S=a(6),y=a(17),j=a.n(y),N=a(10),w=a.n(N),C=a(18),T=a.n(C),I=a(19),L=function(e){if(!Object(I.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},R=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},_=function(e){var t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useState)(""),c=Object(h.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(""),m=Object(h.a)(u,2),d=m[0],g=m[1],b=Object(n.useState)(!1),p=Object(h.a)(b,2),v=p[0],f=p[1],y=Object(s.c)((function(e){return e.auth})).isLoggedIn,N=Object(s.c)((function(e){return e.message})).message,C=Object(s.b)();return y?r.a.createElement(O.a,{to:"/profile"}):r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(j.a,{onSubmit:function(n){n.preventDefault(),f(!0),t.current.validateAll(),0===a.current.context._errors.length?C(function(e,t){return function(a){return E(e,t).then((function(e){return a({type:"LOGIN_SUCCESS",payload:{user:e}}),Promise.resolve()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();return a({type:"LOGIN_FAIL"}),a({type:"SET_MESSAGE",payload:t}),Promise.reject()}))}}(o,d)).then((function(){e.history.push("/profile"),window.location.reload()})).catch((function(){f(!1)})):f(!1)},ref:t},r.a.createElement("label",null,"E-mail"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:o,onChange:function(e){var t=e.target.value;i(t)},validations:[R,L]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:d,onChange:function(e){var t=e.target.value;g(t)},validations:[R]}),r.a.createElement("p",{className:"errorMsg"}),N&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},N)),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:v},v?r.a.createElement("span",null," Loading..."):r.a.createElement("span",null,"Sign up")),r.a.createElement("p",null,"Do you have an account ?",r.a.createElement(S.b,{to:"/registerclient"}," Sign in"))),r.a.createElement(T.a,{style:{display:"none"},ref:a}))))},x=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},A=function(e){if(!Object(I.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},M=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},G=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),l=Object(h.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],E=u[1],g=Object(n.useState)(""),b=Object(h.a)(g,2),p=b[0],v=b[1],f=Object(n.useState)(!1),O=Object(h.a)(f,2),y=O[0],N=O[1],C=Object(s.c)((function(e){return e.message})).message,I=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(j.a,{onSubmit:function(a){a.preventDefault(),N(!1),e.current.validateAll(),0===t.current.context._errors.length&&I(d(c,m,p,"customer")).then((function(){N(!0)})).catch((function(){N(!1)}))},ref:e},r.a.createElement("label",null,"Name"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var t=e.target.value;o(t)},validations:[x]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:m,onChange:function(e){var t=e.target.value;E(t)},validations:[x,A]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:p,onChange:function(e){var t=e.target.value;v(t)},validations:[x,M]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a restaurant?",r.a.createElement(S.b,{to:"/registerrestaurant"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a deliveryman?",r.a.createElement(S.b,{to:"/registerdeliveryman"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:y?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(T.a,{style:{display:"none"},ref:t}))))},q=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},D=function(e){if(!Object(I.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},F=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},k=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),l=Object(h.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],E=u[1],g=Object(n.useState)(""),b=Object(h.a)(g,2),p=b[0],v=b[1],f=Object(n.useState)(!1),O=Object(h.a)(f,2),y=O[0],N=O[1],C=Object(s.c)((function(e){return e.message})).message,I=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(j.a,{onSubmit:function(a){a.preventDefault(),N(!1),e.current.validateAll(),0===t.current.context._errors.length&&I(d(c,m,p,"restaurant")).then((function(){N(!0)})).catch((function(){N(!1)}))},ref:e},r.a.createElement("label",null,"Name"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var t=e.target.value;o(t)},validations:[q]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:m,onChange:function(e){var t=e.target.value;E(t)},validations:[q,D]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:p,onChange:function(e){var t=e.target.value;v(t)},validations:[q,F]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a restaurant?",r.a.createElement(S.b,{to:"/registerrestaurant"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a deliveryman?",r.a.createElement(S.b,{to:"/registerdeliveryman"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:y?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(T.a,{style:{display:"none"},ref:t}))))},P=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},U=function(e){if(!Object(I.isEmail)(e))return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This is not a valid email.")},J=function(e){if(e.length<6||e.length>40)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The password must be between 6 and 40 characters.")},B=function(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useState)(""),l=Object(h.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(h.a)(i,2),m=u[0],E=u[1],g=Object(n.useState)(""),b=Object(h.a)(g,2),p=b[0],v=b[1],f=Object(n.useState)(!1),O=Object(h.a)(f,2),y=O[0],N=O[1],C=Object(s.c)((function(e){return e.message})).message,I=Object(s.b)();return r.a.createElement("section",{className:"login"},r.a.createElement("div",{className:"loginContainer"},r.a.createElement(j.a,{onSubmit:function(a){a.preventDefault(),N(!1),e.current.validateAll(),0===t.current.context._errors.length&&I(d(c,m,p,"deliveryman")).then((function(){N(!0)})).catch((function(){N(!1)}))},ref:e},r.a.createElement("label",null,"Name"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"name",value:c,onChange:function(e){var t=e.target.value;o(t)},validations:[P]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"E-mail"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"email",value:m,onChange:function(e){var t=e.target.value;E(t)},validations:[P,U]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("label",null,"Password"),r.a.createElement(w.a,{type:"text",autoFocus:!0,required:!0,name:"password",value:p,onChange:function(e){var t=e.target.value;v(t)},validations:[P,J]}),r.a.createElement("p",{className:"errorMsg"}),r.a.createElement("div",{className:"btnContainer"},r.a.createElement("button",{className:"btn btn-primary btn-block"}," Sign up "),r.a.createElement("p",null,"Do you have an account?",r.a.createElement(S.b,{to:"./login"}," Sign in")),r.a.createElement("p",null,"Do you want to register as a client?",r.a.createElement(S.b,{to:"/registerclient"}," Sign up")),r.a.createElement("p",null,"Do you want to register as a restaurant?",r.a.createElement(S.b,{to:"/registerrestaurant"}," Sign up"))),C&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:y?"alert alert-success":"alert alert-danger",role:"alert"},C)),r.a.createElement(T.a,{style:{display:"none"},ref:t}))))},W=a(29);a(174);var $=function(){var e={color:"black"};return r.a.createElement("nav",null,r.a.createElement("li",{className:"nav-links"},r.a.createElement(S.b,{style:e,to:"/"},r.a.createElement("h3",null,"Logo")),r.a.createElement(W.a,null,r.a.createElement(W.a.Group,null,r.a.createElement(W.a.Control,{id:"formLocationNavBar",placeholder:"Enter delivery adress"}))),r.a.createElement(S.b,{stryle:e,to:"/login"},r.a.createElement("h5",null,"Log in"))))},z=function(){var e=Object(s.c)((function(e){return e.auth})).user,t=Object(s.b)();console.log({user:e}),Object(n.useEffect)((function(){b.listen((function(e){t({type:"CLEAR_MESSAGE"})}))}),[t]);return r.a.createElement(S.a,{history:b},r.a.createElement("div",null,r.a.createElement($,null),r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/",component:f}),r.a.createElement(O.b,{path:"/login",component:_}),r.a.createElement(O.b,{path:"/registerclient",component:G}),r.a.createElement(O.b,{path:"/registerrestaurant",component:k}),r.a.createElement(O.b,{path:"/registerdeliveryman",component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(16),K=a(66),Q=a(67),V=a(15),X=JSON.parse(localStorage.getItem("user")),Y=X?{isLoggedIn:!0,user:X}:{isLoggedIn:!1,user:null},Z={},ee=Object(H.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"REGISTER_SUCCESS":case"REGISTER_FAIL":return Object(V.a)(Object(V.a)({},e),{},{isLoggedIn:!1});case"LOGIN_SUCCESS":return Object(V.a)(Object(V.a)({},e),{},{isLoggedIn:!0,user:n.user});case"LOGIN_FAIL":case"LOGOUT":return Object(V.a)(Object(V.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_MESSAGE":return{message:n};case"CLEAR_MESSAGE":return{message:""};default:return e}}}),te=[Q.a],ae=Object(H.createStore)(ee,Object(K.composeWithDevTools)(H.applyMiddleware.apply(void 0,te)));a(176).config();var ne=ae;c.a.render(r.a.createElement(s.a,{store:ne},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},20:function(e,t,a){},65:function(e,t,a){e.exports=a.p+"static/media/under_construction.a5b1930d.png"},68:function(e,t,a){e.exports=a(179)}},[[68,1,2]]]);
//# sourceMappingURL=main.c4dd1546.chunk.js.map